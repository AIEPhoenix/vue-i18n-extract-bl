{"version":3,"file":"vue-i18n-extract-bl.umd.js","sources":["../src/config-file/vue-i18n-extract.config.ts","../src/config-file/index.ts","../src/types.ts","../src/create-report/vue-files.ts","../src/create-report/language-files.ts","../src/create-report/report.ts","../src/create-report/index.ts","../src/index.ts"],"sourcesContent":["export default {\n  // Options documented in vue-i18n-extract readme.\n  vueFiles: './src/**/*.?(js|vue)',\n  languageFiles: './lang/**/*.?(json|yaml|yml|js)',\n  exclude: [],\n  output: false,\n  add: false,\n  remove: false,\n  ci: false,\n  noEmptyTranslation: '',\n  missingTranslationString: '',\n};\n","import cac from \"cac\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport defaultConfig from \"./vue-i18n-extract.config\";\n\nexport function initCommand(): void {\n  fs.writeFileSync(\n    path.resolve(process.cwd(), \"./vue-i18n-extract.config.js\"),\n    `module.exports = ${JSON.stringify(defaultConfig, null, 2)}`\n  );\n}\n\nexport function resolveConfig(): Record<string, string> {\n  const argvOptions = cac().parse(process.argv, { run: false }).options;\n\n  let options;\n\n  try {\n    const pathToConfigFile = path.resolve(\n      process.cwd(),\n      \"./vue-i18n-extract.config.js\"\n    );\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const configOptions = require(pathToConfigFile);\n\n    console.info(`\\nUsing config file found at ${pathToConfigFile}`);\n\n    options = {\n      ...configOptions,\n      ...argvOptions,\n    };\n  } catch {\n    options = argvOptions;\n  }\n\n  options.exclude = Array.isArray(options.exclude)\n    ? options.exclude\n    : [options.exclude];\n\n  return options;\n}\n","export type ReportOptions = {\n  vueFiles: string;\n  languageFiles: string;\n  output?: string;\n  exclude?: string[];\n  add?: boolean;\n  remove?: boolean;\n  ci?: boolean;\n  noEmptyTranslation?: string;\n  missingTranslationString?: string;\n  detect?: DetectionType[];\n}\n\nexport enum DetectionType {\n  Missing = \"missing\",\n  Unused = \"unused\",\n  Dynamic = \"dynamic\"\n}\n\nexport type SimpleFile = {\n  fileName: string;\n  path: string;\n  content: string;\n}\n\nexport type I18NItem = {\n  line?: number;\n  path: string;\n  file?: string;\n  language?: string;\n}\n\nexport type I18NItemWithBounding = I18NItem & {\n  previousCharacter: string;\n  nextCharacter: string;\n}\n\nexport type I18NLanguage = {\n  [language: string]: I18NItem[];\n}\n\nexport type I18NReport = {\n  missingKeys: I18NItem[];\n  unusedKeys: I18NItem[];\n  maybeDynamicKeys: I18NItem[];\n}\n","import { SimpleFile, I18NItemWithBounding } from '../types';\nimport isValidGlob from 'is-valid-glob';\nimport glob from 'glob';\nimport fs from 'fs';\n\nexport function readVueFiles (src: string): SimpleFile[] {\n  // Replace backslash path segments to make the path work with the glob package.\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\n  const normalizedSrc = src.replace(/\\\\/g, '/');\n  if (!isValidGlob(normalizedSrc)) {\n    throw new Error(`vueFiles isn't a valid glob pattern.`);\n  }\n\n  const targetFiles = glob.sync(normalizedSrc);\n\n  if (targetFiles.length === 0) {\n    throw new Error('vueFiles glob has no files.');\n  }\n\n  return targetFiles.map((f) => {\n    const fileName = f.replace(process.cwd(), '.');\n    return { fileName, path: f, content: fs.readFileSync(f, 'utf8') };\n  });\n}\n\nfunction* getMatches (file: SimpleFile, regExp: RegExp, captureGroup = 1): IterableIterator<I18NItemWithBounding> {\n  while (true) {\n    const match = regExp.exec(file.content);\n    if (match === null) {\n      break;\n    }\n    const path = match[captureGroup];\n\n    const pathAtIndex = file.content.indexOf(path);\n    const previousCharacter = file.content.charAt(pathAtIndex - 1);\n    const nextCharacter = file.content.charAt(pathAtIndex + path.length);\n\n    const line = (file.content.substring(0, match.index).match(/\\n/g) || []).length + 1;\n    yield {\n      path,\n      previousCharacter,\n      nextCharacter,\n      file: file.fileName,\n      line,\n    };\n  }\n}\n\n/**\n * Extracts translation keys from methods such as `$t` and `$tc`.\n *\n * - **regexp pattern**: (?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\n *\n *   **description**: Matches the sequence t(, tc( or tm(, optionally with either “$”, SPACE, “.”, “:”, “\"”, “'”,\n *   “`”, \"+\", \"(\", \"[\" or \"{\" in front of it.\n *\n * - **regexp pattern**: ([\"'`])\n *\n *   **description**: 1. capturing group. Matches either “\"”, “'”, or “`”.\n *\n * - **regexp pattern**: ((?:[^\\\\]|\\\\.)*?)\n *\n *   **description**: 2. capturing group. Matches anything except a backslash\n *   *or* matches any backslash followed by any character (e.g. “\\\"”, “\\`”, “\\t”, etc.)\n *\n * - **regexp pattern**: \\1\n *\n *   **description**: matches whatever was matched by capturing group 1 (e.g. the starting string character)\n *\n * @param file a file object\n * @returns a list of translation keys found in `file`.\n */\n function extractMethodMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const methodRegExp = /(?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\\s*?([\"'`])((?:[^\\\\]|\\\\.)*?)\\1/g;\n  return [ ...getMatches(file, methodRegExp, 2) ];\n}\n\nfunction extractComponentMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const componentRegExp = /(?:(?:<|h\\()(?:i18n|Translation))(?:.|\\n)*?(?:\\s(?:(?:key)?)path(?:=|: )(\"|'))((?:[^\\\\]|\\\\.)*?)\\1/gi;\n  return [ ...getMatches(file, componentRegExp, 2) ];\n}\n\nfunction extractDirectiveMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const directiveRegExp = /\\bv-t(?:\\.[\\w-]+)?=\"'((?:[^\\\\]|\\\\.)*?)'\"/g;\n  return [ ...getMatches(file, directiveRegExp) ];\n}\n\nexport function extractI18NItemsFromVueFiles (sourceFiles: SimpleFile[]): I18NItemWithBounding[] {\n  return sourceFiles.reduce((accumulator, file) => {\n    const methodMatches = extractMethodMatches(file);\n    const componentMatches = extractComponentMatches(file);\n    const directiveMatches = extractDirectiveMatches(file);\n    return [\n      ...accumulator,\n      ...methodMatches,\n      ...componentMatches,\n      ...directiveMatches,\n    ];\n  }, [] as I18NItemWithBounding[]);\n}\n\n// This is a convenience function for users implementing in their own projects, and isn't used internally\nexport function parseVueFiles (vueFiles: string): I18NItemWithBounding[] {\n  return extractI18NItemsFromVueFiles(readVueFiles(vueFiles));\n}\n","import path from \"path\";\nimport fs from \"fs\";\nimport glob from \"glob\";\nimport yaml from \"js-yaml\";\nimport isValidGlob from \"is-valid-glob\";\nimport { SimpleFile, I18NLanguage, I18NItem } from \"../types\";\nimport { setProperty, deleteProperty, deepKeys } from \"dot-prop-bl\";\n\nexport function readLanguageFiles(src: string): SimpleFile[] {\n  // Replace backslash path segments to make the path work with the glob package.\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\n  const normalizedSrc = src.replace(/\\\\/g, \"/\");\n  if (!isValidGlob(normalizedSrc)) {\n    throw new Error(`languageFiles isn't a valid glob pattern.`);\n  }\n\n  const targetFiles = glob.sync(normalizedSrc);\n\n  if (targetFiles.length === 0) {\n    throw new Error(\"languageFiles glob has no files.\");\n  }\n\n  return targetFiles.map((f) => {\n    const langPath = path.resolve(process.cwd(), f);\n\n    const extension = langPath\n      .substring(langPath.lastIndexOf(\".\"))\n      .toLowerCase();\n    const isJSON = extension === \".json\";\n    const isYAML = extension === \".yaml\" || extension === \".yml\";\n\n    let langObj;\n    if (isJSON) {\n      langObj = JSON.parse(fs.readFileSync(langPath, \"utf8\"));\n    } else if (isYAML) {\n      langObj = yaml.load(fs.readFileSync(langPath, \"utf8\"));\n    } else {\n      langObj = eval(fs.readFileSync(langPath, \"utf8\"));\n    }\n\n    const fileName = f.replace(process.cwd(), \".\");\n\n    return { path: f, fileName, content: JSON.stringify(langObj) };\n  });\n}\n\nexport function extractI18NLanguageFromLanguageFiles(\n  languageFiles: SimpleFile[]\n): I18NLanguage {\n  return languageFiles.reduce((accumulator, file) => {\n    const language = file.fileName.substring(\n      file.fileName.lastIndexOf(\"/\") + 1,\n      file.fileName.lastIndexOf(\".\")\n    );\n\n    if (!accumulator[language]) {\n      accumulator[language] = [];\n    }\n\n    const paths = deepKeys(JSON.parse(file.content));\n    paths.forEach((path) => {\n      accumulator[language].push({\n        path,\n        file: file.fileName,\n      });\n    });\n\n    return accumulator;\n  }, {});\n}\n\nexport function writeMissingToLanguageFiles(\n  parsedLanguageFiles: SimpleFile[],\n  missingKeys: I18NItem[],\n  noEmptyTranslation = \"\",\n  missingTranslationString = \"\"\n): void {\n  parsedLanguageFiles.forEach((languageFile) => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    missingKeys.forEach((item) => {\n      if (\n        (item.language && languageFile.fileName.includes(item.language)) ||\n        !item.language\n      ) {\n        const addDefaultTranslation =\n          noEmptyTranslation &&\n          (noEmptyTranslation === \"*\" || noEmptyTranslation === item.language);\n        setProperty(\n          languageFileContent,\n          item.path,\n          addDefaultTranslation\n            ? item.path\n            : missingTranslationString === \"null\"\n            ? null\n            : missingTranslationString\n        );\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nexport function removeUnusedFromLanguageFiles(\n  parsedLanguageFiles: SimpleFile[],\n  unusedKeys: I18NItem[]\n): void {\n  parsedLanguageFiles.forEach((languageFile) => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    unusedKeys.forEach((item) => {\n      if (item.language && languageFile.fileName.includes(item.language)) {\n        deleteProperty(languageFileContent, item.path);\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nfunction writeLanguageFile(\n  languageFile: SimpleFile,\n  newLanguageFileContent: unknown\n) {\n  const fileExtension = languageFile.fileName.substring(\n    languageFile.fileName.lastIndexOf(\".\") + 1\n  );\n  const filePath = languageFile.path;\n  const stringifiedContent = JSON.stringify(newLanguageFileContent, null, 2);\n\n  if (fileExtension === \"json\") {\n    fs.writeFileSync(filePath, stringifiedContent);\n  } else if (fileExtension === \"js\") {\n    const jsFile = `module.exports = ${stringifiedContent}; \\n`;\n    fs.writeFileSync(filePath, jsFile);\n  } else if (fileExtension === \"yaml\" || fileExtension === \"yml\") {\n    const yamlFile = yaml.dump(newLanguageFileContent);\n    fs.writeFileSync(filePath, yamlFile);\n  } else {\n    throw new Error(`Language filetype of ${fileExtension} not supported.`);\n  }\n}\n\n// This is a convenience function for users implementing in their own projects, and isn't used internally\nexport function parselanguageFiles(languageFiles: string): I18NLanguage {\n  return extractI18NLanguageFromLanguageFiles(readLanguageFiles(languageFiles));\n}\n","import fs from 'fs';\nimport { DetectionType, I18NItem, I18NItemWithBounding, I18NLanguage, I18NReport } from '../types';\n\nfunction stripBounding (item: I18NItemWithBounding): I18NItem {\n  return {\n    path: item.path,\n    file: item.file,\n    line: item.line,\n  }\n}\n\nfunction mightBeDynamic (item: I18NItemWithBounding): boolean {\n  return item.path.includes('${') && !!item.previousCharacter.match(/`/g) && !!item.nextCharacter.match(/`/g);\n}\n\n// Looping through the arays multiple times might not be the most effecient, but it's the easiest to read and debug. Which at this scale is an accepted trade-off.\nexport function extractI18NReport (vueItems: I18NItemWithBounding[], languageFiles: I18NLanguage, detect: DetectionType[]): I18NReport {\n  const missingKeys: I18NItem[] = [];\n  const unusedKeys: I18NItem[] = [];\n  const maybeDynamicKeys: I18NItem[] = [];\n\n  if (detect.includes(DetectionType.Dynamic)) {\n   maybeDynamicKeys. push( ...vueItems\n    .filter(vueItem => mightBeDynamic(vueItem))\n    .map(vueItem => stripBounding(vueItem)));\n   }\n\n  Object.keys(languageFiles).forEach(language => {\n    const languageItems = languageFiles[language];\n\n    if (detect.includes(DetectionType.Missing)) {\n    const missingKeysInLanguage = vueItems\n      .filter(vueItem => !mightBeDynamic(vueItem))\n      .filter(vueItem => !languageItems.some(languageItem => vueItem.path === languageItem.path))\n      .map(vueItem => ({ ...stripBounding(vueItem), language }));\n\n    missingKeys.push(...missingKeysInLanguage);\n    }\n\n    if (detect.includes(DetectionType.Unused)) {\n    const unusedKeysInLanguage = languageItems\n      .filter(languageItem => !vueItems.some(vueItem => languageItem.path === vueItem.path || languageItem.path.startsWith(vueItem.path + '.')))\n      .map(languageItem => ({ ...languageItem, language }));\n\n    unusedKeys.push(...unusedKeysInLanguage);\n    }\n  });\n\n  return {\n    missingKeys,\n    unusedKeys,\n    maybeDynamicKeys,\n  };\n}\n\nexport async function writeReportToFile (report: I18NReport, writePath: string): Promise<NodeJS.ErrnoException | void> {\n  const reportString = JSON.stringify(report);\n  return new Promise((resolve, reject) => {\n    fs.writeFile(\n      writePath,\n      reportString,\n      (err) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve();\n      },\n    );\n  });\n}\n\n","import path from \"path\";\nimport { ReportOptions, I18NReport, DetectionType } from \"../types\";\nimport { readVueFiles, extractI18NItemsFromVueFiles } from \"./vue-files\";\nimport {\n  readLanguageFiles,\n  extractI18NLanguageFromLanguageFiles,\n  removeUnusedFromLanguageFiles,\n  writeMissingToLanguageFiles,\n} from \"./language-files.js\";\nimport { extractI18NReport, writeReportToFile } from \"./report\";\n\nexport async function createI18NReport(\n  options: ReportOptions\n): Promise<I18NReport> {\n  const {\n    vueFiles: vueFilesGlob,\n    languageFiles: languageFilesGlob,\n    output,\n    add,\n    remove,\n    exclude = [],\n    ci,\n    noEmptyTranslation = \"\",\n    missingTranslationString = \"\",\n    detect = [\n      DetectionType.Missing,\n      DetectionType.Unused,\n      DetectionType.Dynamic,\n    ],\n  } = options;\n\n  if (!vueFilesGlob)\n    throw new Error(\"Required configuration vueFiles is missing.\");\n  if (!languageFilesGlob)\n    throw new Error(\"Required configuration languageFiles is missing.\");\n\n  const issuesToDetect = Array.isArray(detect) ? detect : [detect];\n  const invalidDetectOptions = issuesToDetect.filter(\n    (item) => !Object.values(DetectionType).includes(item)\n  );\n  if (invalidDetectOptions.length) {\n    throw new Error(`Invalid 'detect' value(s): ${invalidDetectOptions}`);\n  }\n\n  const vueFiles = readVueFiles(path.resolve(process.cwd(), vueFilesGlob));\n  const languageFiles = readLanguageFiles(\n    path.resolve(process.cwd(), languageFilesGlob)\n  );\n\n  const I18NItems = extractI18NItemsFromVueFiles(vueFiles);\n  const I18NLanguage = extractI18NLanguageFromLanguageFiles(languageFiles);\n\n  const report = extractI18NReport(I18NItems, I18NLanguage, issuesToDetect);\n\n  report.unusedKeys = report.unusedKeys.filter(\n    (key) => !exclude.filter((excluded) => key.path.startsWith(excluded)).length\n  );\n\n  if (report.missingKeys.length)\n    console.info(\"\\nMissing Keys\"), console.table(report.missingKeys);\n  if (report.unusedKeys.length)\n    console.info(\"\\nUnused Keys\"), console.table(report.unusedKeys);\n  if (report.maybeDynamicKeys.length)\n    console.warn(\n      \"\\nSuspected Dynamic Keys Found\\nvue-i18n-extract does not compile Vue templates and therefore can not infer the correct key for the following keys.\"\n    ),\n      console.table(report.maybeDynamicKeys);\n\n  if (output) {\n    await writeReportToFile(report, path.resolve(process.cwd(), output));\n    console.info(`\\nThe report has been has been saved to ${output}`);\n  }\n\n  if (remove && report.unusedKeys.length) {\n    removeUnusedFromLanguageFiles(languageFiles, report.unusedKeys);\n    console.info(\n      \"\\nThe unused keys have been removed from your language files.\"\n    );\n  }\n\n  if (add && report.missingKeys.length) {\n    writeMissingToLanguageFiles(\n      languageFiles,\n      report.missingKeys,\n      noEmptyTranslation,\n      missingTranslationString\n    );\n    console.info(\"\\nThe missing keys have been added to your language files.\");\n  }\n\n  if (ci && report.missingKeys.length) {\n    throw new Error(`${report.missingKeys.length} missing keys found.`);\n  }\n\n  if (ci && report.unusedKeys.length) {\n    throw new Error(`${report.unusedKeys.length} unused keys found.`);\n  }\n\n  return report;\n}\n\nexport * from \"./vue-files\";\nexport * from \"./language-files.js\";\nexport * from \"./report\";\n","export * from './config-file';\nexport * from './create-report';\nexport * from './types';\n\nprocess.on('uncaughtException', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n\nprocess.on('unhandledRejection', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n"],"names":["vueFiles","languageFiles","exclude","output","add","remove","ci","noEmptyTranslation","missingTranslationString","initCommand","fs","writeFileSync","path","resolve","process","cwd","JSON","stringify","defaultConfig","resolveConfig","argvOptions","cac","parse","argv","run","options","pathToConfigFile","configOptions","require","console","info","Array","isArray","DetectionType","readVueFiles","src","normalizedSrc","replace","isValidGlob","Error","targetFiles","glob","sync","length","map","f","fileName","content","readFileSync","getMatches","file","regExp","captureGroup","match","exec","pathAtIndex","indexOf","previousCharacter","charAt","nextCharacter","line","substring","index","extractMethodMatches","methodRegExp","extractComponentMatches","componentRegExp","extractDirectiveMatches","directiveRegExp","extractI18NItemsFromVueFiles","sourceFiles","reduce","accumulator","methodMatches","componentMatches","directiveMatches","parseVueFiles","readLanguageFiles","langPath","extension","lastIndexOf","toLowerCase","isJSON","isYAML","langObj","yaml","load","eval","extractI18NLanguageFromLanguageFiles","language","paths","deepKeys","forEach","push","writeMissingToLanguageFiles","parsedLanguageFiles","missingKeys","languageFile","languageFileContent","item","includes","addDefaultTranslation","setProperty","writeLanguageFile","removeUnusedFromLanguageFiles","unusedKeys","deleteProperty","newLanguageFileContent","fileExtension","filePath","stringifiedContent","jsFile","yamlFile","dump","parselanguageFiles","stripBounding","mightBeDynamic","extractI18NReport","vueItems","detect","maybeDynamicKeys","Dynamic","filter","vueItem","Object","keys","languageItems","Missing","missingKeysInLanguage","some","languageItem","Unused","unusedKeysInLanguage","startsWith","writeReportToFile","report","writePath","reportString","Promise","reject","writeFile","err","createI18NReport","vueFilesGlob","languageFilesGlob","issuesToDetect","invalidDetectOptions","values","I18NItems","I18NLanguage","key","excluded","table","warn","on","error","exit"],"mappings":"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"}